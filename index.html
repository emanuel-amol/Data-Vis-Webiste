<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Road Safety Enforcement in Australia</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/storytelling.css">
  <link rel="stylesheet" href="css/advanced-interactions.css">
  <link rel="stylesheet" href="css/data-story-enhancements.css">
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <header>
    <div class="full-header">
      <div class="logo-container">
        
      </div>
      <h1 class="heading">Australian Road Safety Enforcement</h1>
    </div>
    
    <nav class="nav-container">
      <div class="container">
        <div class="nav-buttons">
          <a href="index.html" class="nav-btn active">Home</a>
          <a href="pages/time-trends.html" class="nav-btn">Time Trends</a>
          <a href="pages/jurisdictions.html" class="nav-btn">Jurisdictions</a>
          <a href="pages/age-analysis.html" class="nav-btn">Age Demographics</a>
          <a href="pages/drugs-alcohol.html" class="nav-btn">Drugs & Alcohol</a>
          <a href="pages/comparative-analysis.html" class="nav-btn">Comparative Analysis</a>
          <a href="pages/insights.html" class="nav-btn">Key Insights</a>
          <a href="pages/data-story.html" class="nav-btn">Data Story</a>
          <a href="pages/about.html" class="nav-btn">About</a>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <!-- Hero Section with Data Hook -->
    <div class="hero-story">
      <div class="container">
        <div class="story-hook">
          <h2 class="hook-question">What if everything we know about road safety is wrong?</h2>
          <p style="font-size: 1.2rem; opacity: 0.9; margin-top: 20px;">
            Explore 15 years of Australian enforcement data that challenges conventional wisdom
          </p>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- Enhanced Story Path with Interactive Elements -->
      <section class="overview">
        <h2>Follow the Data Journey</h2>
        
        <div class="interactive-story-path" style="display: flex; flex-direction: column; align-items: center; justify-content: flex-end; min-height: 280px; position: relative;">
          <div class="story-timeline" style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 20px; width: 100%; max-width: 1200px; margin: 0 auto; position: relative;">
            <div class="timeline-line" style="position: absolute; top: 40px; left: 5%; right: 5%; height: 3px; background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ef4444, #f59e0b, #10b981, #06b6d4, #8b5cf6); border-radius: 2px; z-index: 1;"></div>
            
            <div class="story-node active" data-step="1" style="text-align: center; position: relative; z-index: 2;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: white;">
                  <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zm-7-2l-4-4 1.41-1.41L12 14.17l6.59-6.58L20 9l-8 8z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Time Trends</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Discover how enforcement patterns evolved over 15 years</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #3b82f6; font-weight: 600;">2021 Peak: 35% increase</div>
              </div>
            </div>
            
            <div class="story-node" data-step="2" style="text-align: center; position: relative; z-index: 2;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: linear-gradient(135deg, #8b5cf6, #7c3aed); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: white;">
                  <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Jurisdictions</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Compare enforcement strategies across states</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #8b5cf6; font-weight: 600;">NSW: Mobile phone surge</div>
              </div>
            </div>
            
            <div class="story-node" data-step="3" style="text-align: center; position: relative; z-index: 2;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: linear-gradient(135deg, #ef4444, #dc2626); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: white;">
                  <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2 2 0 0 0 18.09 7H16c-.8 0-1.54.5-1.84 1.24L12.5 12 15 22h5z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Age Demographics</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Uncover surprising patterns in age-related violations</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #ef4444; font-weight: 600;">40-64 group: Unexpected leaders</div>
              </div>
            </div>
            
            <div class="story-node" data-step="4" style="text-align: center; position: relative; z-index: 2;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: white;">
                  <path d="M2,17H20V19H2V17M1.15,4.05L2.56,5.46L5.39,2.64L3.98,1.23L1.15,4.05M7,5V1H9V5H7M11.97,3.97L14.39,1.55L15.8,2.96L13.38,5.38L11.97,3.97M17,5V1H19V5H17M19.85,4.05L18.44,2.64L21.26,5.46L22.67,4.05L19.85,4.05M5.5,9A1.5,1.5 0 0,1 7,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,10.5A1.5,1.5 0 0,1 5.5,9M18.5,9A1.5,1.5 0 0,1 20,10.5A1.5,1.5 0 0,1 18.5,12A1.5,1.5 0 0,1 17,10.5A1.5,1.5 0 0,1 18.5,9M12,9A3.5,3.5 0 0,1 15.5,12.5A3.5,3.5 0 0,1 12,16A3.5,3.5 0 0,1 8.5,12.5A3.5,3.5 0 0,1 12,9Z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Drugs & Alcohol</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Analyze substance-related enforcement trends</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #f59e0b; font-weight: 600;">Weekend peak patterns</div>
              </div>
            </div>
            
            <div class="story-node" data-step="5" style="text-align: center; position: relative; z-index: 2;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: white;">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Comparative Analysis</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Advanced statistical comparisons and correlations</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #10b981; font-weight: 600;">Statistical significance testing</div>
              </div>
            </div>
            
            <div class="story-node" data-step="6" style="text-align: center; position: relative; z-index: 2; background: linear-gradient(135deg, #fef3c7 0%, #fcd34d 100%); border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); padding: 15px;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: rgba(255, 255, 255, 0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: #06b6d4;">
                  <path d="M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zm2.5-9H19V1h-2v1H7V1H5v1H3.5C2.67 2 2 2.67 2 3.5v15c0 .83.67 1.5 1.5 1.5h17c.83 0 1.5-.67 1.5-1.5v-15c0-.83-.67-1.5-1.5-1.5zm0 16.5h-17v-11h17v11z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Key Insights</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Actionable recommendations for policy makers</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #06b6d4; font-weight: 600;">Evidence-based solutions</div>
              </div>
            </div>
            
            <div class="story-node" data-step="7" style="text-align: center; position: relative; z-index: 2; background: linear-gradient(135deg, #dbeafe 0%, #93c5fd 100%); border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); padding: 15px;">
              <div class="node-icon" style="width: 60px; height: 60px; margin: 0 auto 15px; background: rgba(255, 255, 255, 0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);">
                <svg viewBox="0 0 24 24" fill="currentColor" style="width: 28px; height: 28px; color: #8b5cf6;">
                  <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"/>
                </svg>
              </div>
              <div class="node-content">
                <h4 style="color: #0C1A3C; margin-bottom: 8px;">Data Story</h4>
                <p style="font-size: 0.9rem; color: #666; margin-bottom: 8px;">Experience the complete narrative journey</p>
                <div class="mini-insight" style="font-size: 0.8rem; color: #8b5cf6; font-weight: 600;">Interactive storytelling</div>
              </div>
            </div>
          </div>
          
          <div class="cta-container" style="margin-top: 40px; display: flex; justify-content: center; width: 100%;">
            <a href="pages/time-trends.html" class="primary-cta" style="display: inline-block; padding: 15px 30px; border-radius: 8px; background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">Begin the Data Journey</a>
          </div>
        </div>
      </section>

      <!-- Scrollytelling Section -->
      <div class="scrollytelling-container" style="padding: 100px 0; background: linear-gradient(180deg, #f8fafc 0%, #ffffff 100%);">
        <div class="container">
          <div class="scrolly-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; align-items: flex-start;">
            <div class="story-steps" style="padding-right: 40px;">
              <div class="story-step active" data-step="0" style="padding: 40px 0; opacity: 1; border-left: 4px solid #3b82f6; padding-left: 30px; margin-bottom: 60px; background: linear-gradient(90deg, rgba(59, 130, 246, 0.05) 0%, transparent 100%); transform: translateX(10px);">
                <div class="step-number" style="background: #3b82f6; color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.2rem; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">1</div>
                <h3 style="font-size: 2rem; color: #0C1A3C; margin-bottom: 20px; font-weight: 700;">The Common Assumption</h3>
                <p style="font-size: 1.1rem; line-height: 1.7; color: #374151; margin-bottom: 20px;">Most people assume young drivers (17-25) would top the list. After all, they're new to driving, more likely to take risks, and often portrayed as the primary concern in road safety campaigns.</p>
                <div class="step-insight" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #3b82f6; font-style: italic; color: #1e40af;">
                  <strong>But our data tells a different story...</strong>
                </div>
              </div>
              
              <div class="story-step" data-step="1" style="padding: 40px 0; opacity: 0.3; border-left: 4px solid transparent; padding-left: 30px; margin-bottom: 60px;">
                <div class="step-number" style="background: #3b82f6; color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.2rem; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">2</div>
                <h3 style="font-size: 2rem; color: #0C1A3C; margin-bottom: 20px; font-weight: 700;">The Reality Check</h3>
                <p style="font-size: 1.1rem; line-height: 1.7; color: #374151; margin-bottom: 20px;">When we analyzed 5,017 enforcement records spanning 15 years, middle-aged adults (40-64) consistently received the highest number of fines across all jurisdictions and time periods.</p>
                <div class="step-insight" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #3b82f6; font-style: italic; color: #1e40af;">
                  <strong>This isn't just a statistical blip – it's a persistent pattern.</strong>
                </div>
              </div>
              
              <div class="story-step" data-step="2" style="padding: 40px 0; opacity: 0.3; border-left: 4px solid transparent; padding-left: 30px; margin-bottom: 60px;">
                <div class="step-number" style="background: #3b82f6; color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.2rem; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">3</div>
                <h3 style="font-size: 2rem; color: #0C1A3C; margin-bottom: 20px; font-weight: 700;">The Technology Factor</h3>
                <p style="font-size: 1.1rem; line-height: 1.7; color: #374151; margin-bottom: 20px;">The dramatic spike in 2021 (+37% increase) coincides with the widespread deployment of automated detection systems. These systems don't discriminate based on assumptions – they catch violations as they happen.</p>
                <div class="step-insight" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #3b82f6; font-style: italic; color: #1e40af;">
                  <strong>Technology revealed patterns human observation might miss.</strong>
                </div>
              </div>
              
              <div class="story-step" data-step="3" style="padding: 40px 0; opacity: 0.3; border-left: 4px solid transparent; padding-left: 30px; margin-bottom: 60px;">
                <div class="step-number" style="background: #3b82f6; color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-weight: 900; font-size: 1.2rem; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);">4</div>
                <h3 style="font-size: 2rem; color: #0C1A3C; margin-bottom: 20px; font-weight: 700;">What This Means</h3>
                <p style="font-size: 1.1rem; line-height: 1.7; color: #374151; margin-bottom: 20px;">This finding suggests that experience doesn't automatically equal compliance. It challenges our approach to road safety education and enforcement strategies.</p>
                <div class="step-insight" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 20px; border-radius: 12px; border-left: 4px solid #3b82f6; font-style: italic; color: #1e40af;">
                  <strong>Perhaps it's time to rethink our assumptions about driver behavior.</strong>
                </div>
              </div>
            </div>
            
            <div class="sticky-viz" style="position: sticky; top: 100px; height: 600px; background: white; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); padding: 30px;">
              <div id="scrolly-chart"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Interactive Data Journey -->
      <div class="data-journey-section" style="padding: 80px 0; background: #f8fafc;">
        <div class="container">
          <h2 style="text-align: center; font-size: 2.5rem; color: #0C1A3C; margin-bottom: 20px;">Explore the Data Journey</h2>
          <p class="journey-intro" style="text-align: center; font-size: 1.2rem; color: #6b7280; max-width: 600px; margin: 0 auto 60px;">Follow our investigation through the data. Each step reveals new insights that build toward our surprising conclusion.</p>
          
          <div class="journey-map" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; position: relative;">
            <div class="journey-step completed" data-journey="trends" style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; border: 3px solid #10b981; background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%); position: relative;">
              <div class="journey-icon" style="font-size: 3rem; margin-bottom: 20px; display: block;">📈</div>
              <h4 style="color: #0C1A3C; margin-bottom: 15px; font-size: 1.3rem;">Time Trends</h4>
              <p style="color: #6b7280; margin-bottom: 15px;">28% increase over 2020</p>
              <div class="journey-insight" style="background: rgba(59, 130, 246, 0.1); color: #1e40af; padding: 10px 15px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; margin-top: 15px;">59M+ total fines over 15 years</div>
              <div style="content: '✓'; position: absolute; top: -15px; right: -15px; background: #10b981; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-weight: bold;">✓</div>
            </div>
            
            <div class="journey-step" data-journey="geography" style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; border: 3px solid transparent;">
              <div class="journey-icon" style="font-size: 3rem; margin-bottom: 20px; display: block;">🗺️</div>
              <h4 style="color: #0C1A3C; margin-bottom: 15px; font-size: 1.3rem;">Geography</h4>
              <p style="color: #6b7280; margin-bottom: 15px;">NSW and VIC lead enforcement</p>
              <div class="journey-insight" style="background: rgba(59, 130, 246, 0.1); color: #1e40af; padding: 10px 15px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; margin-top: 15px;">8 jurisdictions compared</div>
            </div>
            
            <div class="journey-step" data-journey="demographics" style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; border: 3px solid transparent;">
              <div class="journey-icon" style="font-size: 3rem; margin-bottom: 20px; display: block;">👥</div>
              <h4 style="color: #0C1A3C; margin-bottom: 15px; font-size: 1.3rem;">Demographics</h4>
              <p style="color: #6b7280; margin-bottom: 15px;">The age group surprise</p>
              <div class="journey-insight" style="background: rgba(59, 130, 246, 0.1); color: #1e40af; padding: 10px 15px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; margin-top: 15px;">40-64 group: unexpected leaders</div>
            </div>
            
            <div class="journey-step" data-journey="drugs" style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; border: 3px solid transparent;">
              <div class="journey-icon" style="font-size: 3rem; margin-bottom: 20px; display: block;">🍷</div>
              <h4 style="color: #0C1A3C; margin-bottom: 15px; font-size: 1.3rem;">Drugs & Alcohol</h4>
              <p style="color: #6b7280; margin-bottom: 15px;">Substance-related patterns</p>
              <div class="journey-insight" style="background: rgba(59, 130, 246, 0.1); color: #1e40af; padding: 10px 15px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; margin-top: 15px;">Weekend peak enforcement</div>
            </div>
            
            <div class="journey-step" data-journey="comparative" style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; border: 3px solid transparent;">
              <div class="journey-icon" style="font-size: 3rem; margin-bottom: 20px; display: block;">📊</div>
              <h4 style="color: #0C1A3C; margin-bottom: 15px; font-size: 1.3rem;">Comparative Analysis</h4>
              <p style="color: #6b7280; margin-bottom: 15px;">Statistical deep dive</p>
              <div class="journey-insight" style="background: rgba(59, 130, 246, 0.1); color: #1e40af; padding: 10px 15px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; margin-top: 15px;">Significance testing & correlations</div>
            </div>
            
            <div class="journey-step" data-journey="insights" style="background: white; padding: 30px; border-radius: 15px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); cursor: pointer; border: 3px solid transparent;">
              <div class="journey-icon" style="font-size: 3rem; margin-bottom: 20px; display: block;">💡</div>
              <h4 style="color: #0C1A3C; margin-bottom: 15px; font-size: 1.3rem;">Key Insights</h4>
              <p style="color: #6b7280; margin-bottom: 15px;">What it all means</p>
              <div class="journey-insight" style="background: rgba(59, 130, 246, 0.1); color: #1e40af; padding: 10px 15px; border-radius: 8px; font-weight: 600; font-size: 0.9rem; margin-top: 15px;">Policy implications revealed</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Key Insights Preview with Progressive Disclosure -->
      <div class="insights-preview" style="padding: 80px 0; background: linear-gradient(135deg, #0C1A3C 0%, #1e3a8a 100%); color: white;">
        <div class="container">
          <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 60px; color: white;">Three Insights That Will Change How You Think About Road Safety</h2>
          
          <div class="insight-revealer" style="max-width: 800px; margin: 0 auto;">
            <div class="insight-item" data-reveal="1" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border-radius: 15px; margin-bottom: 30px; overflow: hidden; border: 2px solid rgba(255, 255, 255, 0.2);">
              <div class="insight-trigger" style="padding: 30px; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                <h3 style="font-size: 1.5rem; margin: 0; color: white;">💡 Insight #1: The Experience Paradox</h3>
                <button class="reveal-trigger" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer;">Click to reveal</button>
              </div>
              <div class="insight-content" style="padding: 0 30px; max-height: 0; overflow: hidden; transition: all 0.5s ease;">
                <p style="font-size: 1.1rem; line-height: 1.7; margin-bottom: 25px; color: rgba(255, 255, 255, 0.9);">Drivers with 20+ years of experience (40-64 age group) receive more fines than any other group. This suggests that familiarity might breed complacency rather than caution.</p>
                <div class="insight-data" style="display: flex; align-items: center; gap: 20px; background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 12px;">
                  <span class="data-point" style="font-size: 2.5rem; font-weight: 900; color: #f59e0b;">1,131,286</span>
                  <div>
                    <span class="data-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;">40-64 age group total fines</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="insight-item" data-reveal="2" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border-radius: 15px; margin-bottom: 30px; overflow: hidden; border: 2px solid rgba(255, 255, 255, 0.2);">
              <div class="insight-trigger" style="padding: 30px; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                <h3 style="font-size: 1.5rem; margin: 0; color: white;">📱 Insight #2: The Technology Revolution</h3>
                <button class="reveal-trigger" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer;">Click to reveal</button>
              </div>
              <div class="insight-content" style="padding: 0 30px; max-height: 0; overflow: hidden; transition: all 0.5s ease;">
                <p style="font-size: 1.1rem; line-height: 1.7; margin-bottom: 25px; color: rgba(255, 255, 255, 0.9);">Mobile phone detection cameras in NSW caused a 132% increase in fines from 2019-2021, revealing the true scale of distracted driving.</p>
                <div class="insight-data" style="display: flex; align-items: center; gap: 20px; background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 12px;">
                  <span class="data-point" style="font-size: 2.5rem; font-weight: 900; color: #f59e0b;">132%</span>
                  <div>
                    <span class="data-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;">NSW increase (2019-2021)</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="insight-item" data-reveal="3" style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border-radius: 15px; margin-bottom: 30px; overflow: hidden; border: 2px solid rgba(255, 255, 255, 0.2);">
              <div class="insight-trigger" style="padding: 30px; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                <h3 style="font-size: 1.5rem; margin: 0; color: white;">🦠 Insight #3: The Pandemic Paradox</h3>
                <button class="reveal-trigger" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer;">Click to reveal</button>
              </div>
              <div class="insight-content" style="padding: 0 30px; max-height: 0; overflow: hidden; transition: all 0.5s ease;">
                <p style="font-size: 1.1rem; line-height: 1.7; margin-bottom: 25px; color: rgba(255, 255, 255, 0.9);">Despite reduced traffic during COVID-19, 2021 saw the highest enforcement rates ever recorded, suggesting behavioral changes as restrictions lifted.</p>
                <div class="insight-data" style="display: flex; align-items: center; gap: 20px; background: rgba(0, 0, 0, 0.2); padding: 20px; border-radius: 12px;">
                  <span class="data-point" style="font-size: 2.5rem; font-weight: 900; color: #f59e0b;">27%</span>
                  <div>
                    <span class="data-label" style="color: rgba(255, 255, 255, 0.8); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px;">2020 to 2021 increase</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Call to Action -->
      <div class="cta-section" style="padding: 80px 0; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); text-align: center;">
        <div class="container">
          <h2 style="font-size: 2.5rem; color: #0C1A3C; margin-bottom: 20px;">Ready to Dive Deeper?</h2>
          <p style="font-size: 1.2rem; color: #6b7280; margin-bottom: 40px; max-width: 600px; margin-left: auto; margin-right: auto;">Explore the interactive visualizations and discover more surprising insights in our data.</p>
          
          <div class="cta-buttons" style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;">
            <a href="pages/data-story.html" class="primary-cta" style="padding: 18px 36px; border-radius: 50px; font-weight: 700; font-size: 1.1rem; text-decoration: none; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3); display: inline-flex; align-items: center; gap: 10px; min-width: 200px; justify-content: center;">📊 Experience the Full Data Story</a>
            <a href="pages/time-trends.html" class="secondary-cta" style="padding: 18px 36px; border-radius: 50px; font-weight: 700; font-size: 1.1rem; text-decoration: none; background: white; color: #3b82f6; border: 2px solid #3b82f6; display: inline-flex; align-items: center; gap: 10px; min-width: 200px; justify-content: center;">Start with Time Trends →</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer" style="background-color: #0C1A3C; color: white; padding: 20px 0; text-align: center; margin-top: 50px;">
    <div class="container">
      <div class="footer-content" style="display: flex; justify-content: center; align-items: flex-start; gap: 30px; margin-bottom: 20px;">
        <div class="footer-section">
          <h4 style="color: #60a5fa; margin-bottom: 10px; font-size: 1.1rem;">Data Source</h4>
          <p style="color: rgba(255, 255, 255, 0.8);">Bureau of Infrastructure and Transport Research Economics (BITRE) - 5,017 records from 2008-2023</p>
        </div>
        <div class="footer-section">
          <h4 style="color: #60a5fa; margin-bottom: 10px; font-size: 1.1rem;">Last Updated</h4>
          <p style="color: rgba(255, 255, 255, 0.8);">Dataset: September 2024<br>Analysis: December 2024</p>
        </div>
      </div>
      <div class="footer-bottom" style="border-top: 1px solid rgba(255, 255, 255, 0.2); padding-top: 20px; text-align: center;">
        <p>&copy; 2025 Road Safety Enforcement Data Visualization - COS30045 Data Visualization</p>
      </div>
    </div>
  </footer>

  <!-- Load scripts -->
  <script src="js/utils/statistics.js"></script>
  <script src="js/utils/animations.js"></script>
  <script src="js/dataLoader.js"></script>
  <script src="js/storytelling/story-interactions.js"></script>
  <script src="js/storytelling/scrollytelling.js"></script>
  <script src="js/previews/home-previews.js"></script>
  <script src="js/script.js"></script>

  <script>
    // Initialize statistics display when data loads
    document.addEventListener('roadSafetyDataReady', function(event) {
      const data = event.detail.data;
      
      // Update total fines statistic
      const totalFines = data.stats.totalFines;
      const totalFinesElement = document.getElementById('total-fines-stat');
      if (totalFinesElement) {
        AnimationUtils.animateCounter(totalFinesElement, totalFines, 2000);
      }
      
      // Update middle age statistic
      const middleAgeStat = document.getElementById('middle-age-stat');
      const ageGroupStat = document.getElementById('age-stat-display');
      
      if (data.processed && data.processed.byAgeGroup) {
        const middleAgeData = data.processed.byAgeGroup.find(d => d.ageGroup === '40-64');
        if (middleAgeData) {
          const percentage = ((middleAgeData.totalFines / totalFines) * 100).toFixed(1);
          
          if (middleAgeStat) {
            middleAgeStat.textContent = `${percentage}%`;
          }
          
          if (ageGroupStat) {
            ageGroupStat.textContent = `${percentage}%`;
          }
        }
      }
    });

    // Enhanced journey step interactions
    document.addEventListener('DOMContentLoaded', function() {
      const journeySteps = document.querySelectorAll('.journey-step');
      
      journeySteps.forEach(step => {
        step.addEventListener('click', () => {
          const journey = step.dataset.journey;
          navigateToJourney(journey);
        });
        
        step.addEventListener('mouseenter', () => {
          if (!step.classList.contains('completed')) {
            step.style.transform = 'translateY(-8px)';
            step.style.boxShadow = '0 12px 30px rgba(0,0,0,0.15)';
          }
        });
        
        step.addEventListener('mouseleave', () => {
          if (!step.classList.contains('completed')) {
            step.style.transform = 'translateY(0)';
            step.style.boxShadow = '0 4px 20px rgba(0,0,0,0.1)';
          }
        });
      });

      function navigateToJourney(journey) {
        const routes = {
          'trends': 'pages/time-trends.html',
          'geography': 'pages/jurisdictions.html',
          'demographics': 'pages/age-analysis.html',
          'drugs': 'pages/drugs-alcohol.html',
          'comparative': 'pages/comparative-analysis.html',
          'insights': 'pages/insights.html'
        };
        
        if (routes[journey]) {
          // Add transition effect
          document.body.style.transition = 'opacity 0.3s ease';
          document.body.style.opacity = '0.7';
          
          setTimeout(() => {
            window.location.href = routes[journey];
          }, 300);
        }
      }

      // Progressive disclosure for insights
      const revealTriggers = document.querySelectorAll('.reveal-trigger');
      const revealedInsights = new Set();
      
      revealTriggers.forEach(trigger => {
        trigger.addEventListener('click', (e) => {
          e.stopPropagation();
          const insightItem = trigger.closest('.insight-item');
          const insightId = insightItem.dataset.reveal;
          
          if (revealedInsights.has(insightId)) {
            // Hide insight
            insightItem.classList.remove('revealed');
            revealedInsights.delete(insightId);
            trigger.textContent = 'Click to reveal';
            trigger.style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
          } else {
            // Reveal insight
            insightItem.classList.add('revealed');
            revealedInsights.add(insightId);
            
            const content = insightItem.querySelector('.insight-content');
            content.style.maxHeight = '300px';
            content.style.padding = '30px';
            
            trigger.textContent = 'Hide insight';
            trigger.style.background = '#10b981';
          }
        });
      });
    });
  </script>

  <style>
    .story-node {
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .story-node:hover {
      transform: translateY(-8px);
    }
    
    .story-node.active .node-icon {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
    }
    
    .primary-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
    }
    
    .secondary-cta:hover {
      background: #3b82f6;
      color: white;
      transform: translateY(-3px);
    }
    
    .insight-item.revealed .insight-content {
      opacity: 1;
      transform: translateY(0);
    }
    
    @media (max-width: 768px) {
      .story-timeline {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
      }
      
      .timeline-line {
        display: none !important;
      }
      
      .scrolly-content {
        grid-template-columns: 1fr !important;
        gap: 40px !important;
      }
      
      .sticky-viz {
        position: static !important;
        height: 400px !important;
      }
      
      .journey-map {
        grid-template-columns: 1fr !important;
      }
      
      .cta-buttons {
        flex-direction: column !important;
        align-items: center !important;
      }
    }
  </style>
</body>
</html>